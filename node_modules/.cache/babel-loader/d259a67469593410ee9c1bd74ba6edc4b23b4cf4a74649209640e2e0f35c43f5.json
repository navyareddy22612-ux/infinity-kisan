{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\navya\\\\Desktop\\\\hackathon\\\\src\\\\context\\\\LocationContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LocationContext = /*#__PURE__*/createContext();\nexport const useLocation = () => {\n  _s();\n  return useContext(LocationContext);\n};\n_s(useLocation, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const LocationProvider = ({\n  children\n}) => {\n  _s2();\n  // Default to Punjab, India (roughly) or a generic welcome location\n  const [location, setLocation] = useState({\n    name: \"Punjab, India\",\n    lat: 31.1471,\n    lng: 75.3412\n  });\n  const [loading, setLoading] = useState(false);\n  const updateLocation = async (lat, lng) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);\n      const data = await response.json();\n\n      // Extract a meaningful name (city, state, or county)\n      const address = data.address;\n      const city = address.city || address.town || address.village || address.county;\n      const state = address.state;\n      const country = address.country;\n      const locationName = city ? `${city}, ${state}` : `${state}, ${country}`;\n      setLocation({\n        name: locationName,\n        lat: lat,\n        lng: lng\n      });\n    } catch (error) {\n      console.error(\"Error fetching location name:\", error);\n      // Fallback to coordinates if name fetch fails\n      setLocation({\n        name: `${lat.toFixed(2)}, ${lng.toFixed(2)}`,\n        lat: lat,\n        lng: lng\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LocationContext.Provider, {\n    value: {\n      location,\n      updateLocation,\n      loading\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n_s2(LocationProvider, \"vOHkrojCNaDyzA0t1bWjXHCqfRY=\");\n_c = LocationProvider;\nvar _c;\n$RefreshReg$(_c, \"LocationProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","jsxDEV","_jsxDEV","LocationContext","useLocation","_s","LocationProvider","children","_s2","location","setLocation","name","lat","lng","loading","setLoading","updateLocation","response","fetch","data","json","address","city","town","village","county","state","country","locationName","error","console","toFixed","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/navya/Desktop/hackathon/src/context/LocationContext.jsx"],"sourcesContent":["import React, { createContext, useState, useContext } from 'react';\r\n\r\nconst LocationContext = createContext();\r\n\r\nexport const useLocation = () => useContext(LocationContext);\r\n\r\nexport const LocationProvider = ({ children }) => {\r\n    // Default to Punjab, India (roughly) or a generic welcome location\r\n    const [location, setLocation] = useState({\r\n        name: \"Punjab, India\",\r\n        lat: 31.1471,\r\n        lng: 75.3412\r\n    });\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const updateLocation = async (lat, lng) => {\r\n        setLoading(true);\r\n        try {\r\n            const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);\r\n            const data = await response.json();\r\n\r\n            // Extract a meaningful name (city, state, or county)\r\n            const address = data.address;\r\n            const city = address.city || address.town || address.village || address.county;\r\n            const state = address.state;\r\n            const country = address.country;\r\n\r\n            const locationName = city ? `${city}, ${state}` : `${state}, ${country}`;\r\n\r\n            setLocation({\r\n                name: locationName,\r\n                lat: lat,\r\n                lng: lng\r\n            });\r\n        } catch (error) {\r\n            console.error(\"Error fetching location name:\", error);\r\n            // Fallback to coordinates if name fetch fails\r\n            setLocation({\r\n                name: `${lat.toFixed(2)}, ${lng.toFixed(2)}`,\r\n                lat: lat,\r\n                lng: lng\r\n            });\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <LocationContext.Provider value={{ location, updateLocation, loading }}>\r\n            {children}\r\n        </LocationContext.Provider>\r\n    );\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,MAAMC,eAAe,gBAAGL,aAAa,CAAC,CAAC;AAEvC,OAAO,MAAMM,WAAW,GAAGA,CAAA;EAAAC,EAAA;EAAA,OAAML,UAAU,CAACG,eAAe,CAAC;AAAA;AAACE,EAAA,CAAhDD,WAAW;AAExB,OAAO,MAAME,gBAAgB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,GAAA;EAC9C;EACA,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGX,QAAQ,CAAC;IACrCY,IAAI,EAAE,eAAe;IACrBC,GAAG,EAAE,OAAO;IACZC,GAAG,EAAE;EACT,CAAC,CAAC;EACF,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMiB,cAAc,GAAG,MAAAA,CAAOJ,GAAG,EAAEC,GAAG,KAAK;IACvCE,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAAC,+DAA+DN,GAAG,QAAQC,GAAG,EAAE,CAAC;MAC7G,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;;MAElC;MACA,MAAMC,OAAO,GAAGF,IAAI,CAACE,OAAO;MAC5B,MAAMC,IAAI,GAAGD,OAAO,CAACC,IAAI,IAAID,OAAO,CAACE,IAAI,IAAIF,OAAO,CAACG,OAAO,IAAIH,OAAO,CAACI,MAAM;MAC9E,MAAMC,KAAK,GAAGL,OAAO,CAACK,KAAK;MAC3B,MAAMC,OAAO,GAAGN,OAAO,CAACM,OAAO;MAE/B,MAAMC,YAAY,GAAGN,IAAI,GAAG,GAAGA,IAAI,KAAKI,KAAK,EAAE,GAAG,GAAGA,KAAK,KAAKC,OAAO,EAAE;MAExEjB,WAAW,CAAC;QACRC,IAAI,EAAEiB,YAAY;QAClBhB,GAAG,EAAEA,GAAG;QACRC,GAAG,EAAEA;MACT,CAAC,CAAC;IACN,CAAC,CAAC,OAAOgB,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrD;MACAnB,WAAW,CAAC;QACRC,IAAI,EAAE,GAAGC,GAAG,CAACmB,OAAO,CAAC,CAAC,CAAC,KAAKlB,GAAG,CAACkB,OAAO,CAAC,CAAC,CAAC,EAAE;QAC5CnB,GAAG,EAAEA,GAAG;QACRC,GAAG,EAAEA;MACT,CAAC,CAAC;IACN,CAAC,SAAS;MACNE,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,oBACIb,OAAA,CAACC,eAAe,CAAC6B,QAAQ;IAACC,KAAK,EAAE;MAAExB,QAAQ;MAAEO,cAAc;MAAEF;IAAQ,CAAE;IAAAP,QAAA,EAClEA;EAAQ;IAAA2B,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAEnC,CAAC;AAAC7B,GAAA,CA9CWF,gBAAgB;AAAAgC,EAAA,GAAhBhC,gBAAgB;AAAA,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}